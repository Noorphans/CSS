[toc]





# 移动WEB开发之流式布局



## 移动端基础

### 浏览器现状

* **PC端常见浏览器**：360浏览器、谷歌浏览器、火狐浏览器、QQ浏览器、百度浏览器、搜狗浏览器、IE浏览器。

![image-20240321094348746](http://images.newstar.net.cn/sally-imgsimage-20240321094348746.png) 

* **移动端常见浏览器**：UC浏览器，QQ浏览器，欧朋浏览器，百度手机浏览器，360安全浏览器，谷歌

  浏览器，搜狗手机浏览器，猎豹浏览器，以及其他杂牌浏览器。

* 国内的UC和QQ，百度等手机浏览器都是根据Webkit修改过来的内核，国内尚无自主研发的内核，就像国内的手机操作系统都是基于Android修改开发的一样。

> **总结：**兼容移动端主流浏览器，处理Webkit内核浏览器即可。





### 手机屏幕现状

* 移动端设备屏幕尺寸非常多，碎片化严重。
* Android设备有多种分辨率：480x800, 480x854, 540x960, 720x1280，1080x1920等，还有传说中的2K，4k屏。
* 近年来iPhone的碎片化也加剧了，其设备的主要分辨率有：640x960, 640x1136, 750x1334, 1242x2208等。

> 作为前端开发者**无需关注这些分辨率**，因为我们**常用的尺寸单位是 px** ,不建议大家去纠结dp，dpi，pt，ppi等单位。

![image-20240321094903323](http://images.newstar.net.cn/sally-imgsimage-20240321094903323.png) 



### 常见移动端屏幕尺寸

![image-20240321095004052](http://images.newstar.net.cn/sally-imgsimage-20240321095004052.png) 

> **注：**以上数据均参考自**https://material.io/devices/** 。 





### 移动端调试方法

* Chrome DevTools（谷歌浏览器）的模拟手机调试
* 搭建本地web服务器，手机和服务器一个局域网内，通过手机访问服务器
* 使用外网服务器，直接IP或域名访问





## 移动端基础总结

* 移动端浏览器我们主要对webkit内核进行兼容
* 我们现在开发的移动端主要针对手机端开发
* 现在移动端碎片化比较严重，分辨率和屏幕尺寸大小不一
* 学会用谷歌浏览器模拟手机界面以及调试





## 视口viewport

**视口（viewport）**：就是浏览器显示页面内容的`屏幕区域`。可分为**布局视口**、**视觉视口**和`理想视口`



###  布局视口-layout viewport

* 一般移动设备的浏览器都默认设置了一个布局视口，用于解决早期的PC端页面在手机上显示的问题。
* iOS, Android基本都将这个视口分辨率设置为 980px，所以PC上的网页大多都能在手机上呈现，只不过`元素看上去很小`，一般默认可以通过手动缩放网页。

![image-20240321110815124](http://images.newstar.net.cn/sally-imgsimage-20240321110815124.png) 





### 视觉视口-visual viewport

* 视觉视口：指用户在浏览器中实际看到的网页内容区域。
  * 是用户正看见的`网站的区域`。简单理解就是 用户当前能够看到的网页的部分
* 我们可以通过缩放去操作视觉视口，但不会影响布局视口，布局视口仍保持原来的宽度。

![image-20240321111332409](http://images.newstar.net.cn/sally-imgsimage-20240321111332409.png) 





### 理想视口-ideal viewport(重点)

* 为了使网站在移动端有最理想的浏览和阅读宽度而设定
* 理想视口，对设备来讲，是最理想的视口尺寸
* 需要`手动添写meta视口标签`通知浏览器操作
* **meta视口标签的主要目的**：布局视口的宽度应该与理想视口的宽度一致，简单理解就是`设备有多宽`，我们`布局的视口就多宽`







## 视口总结

* `视口`就是浏览器显示页面内容的`屏幕区域`
* 视口分为布局视口、视觉视口和`理想视口`
* 我们移动端布局想要的是`理想视口就是手机屏幕有多宽`，我们的`布局视口就有多宽`
* 想要`理想视口`，我们需要给我们的`移动端页面添加 meta视口标签`







## meta视口标签

```html
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
```

| 属性          | 解释说明                                              |
| ------------- | ----------------------------------------------------- |
| width         | 宽度设置的是viewpoint宽度，可以设置device-width特殊值 |
| user-scalable | 用户是否可以缩放，yes或no（1或0）                     |
| initial-scale | 初始缩放比，大于0的数字                               |
| maximum-scale | 最大缩放比，大于0的数字                               |
| minimum-scale | 最小缩放比，大于0的数字                               |

* 分析：
  * **`width=device-width`**：该属性告诉浏览器，网页的`布局视口宽度应该等于设备的宽度`。换句话说，网页的宽度应该根据设备屏幕的宽度来确定，这样可以确保网页内容在移动设备上的展示效果良好。
  * `user-scalable=no`: 控制用户`是否可以通过手势缩放网页`。`no` 表示用户`不能手势缩放`网页内容。一般情况下不喜欢用户手势放大，所以no
  * initial-scale=1.0：设置网页的初始缩放级别。也就是网页一打开按照原先大小打开。`1.0` 表示网页的初始缩放级别为 100%，即不进行缩放。`一般都是1.0`
  * maximum-scale=1.0: `限制用户手势缩放`时网页可以`放大的最大比例`。1.0 表示用户`不能`将网页`放大超过初始缩放级别`。
  * minimum-scale=1.0: `限制用户手势缩放`时网页可以`缩小的最小比例`。1.0 表示用户`不能`将网页`缩小至小于初始缩放级别`。







##  标准的视口viewport设置

> * 视口宽度和设备保持一致
> * 视口的默认缩放比例1.0
> * 不允许用户自行缩放
> * 最大允许的缩放比例1.0
> * 最小允许的缩放比例1.0





